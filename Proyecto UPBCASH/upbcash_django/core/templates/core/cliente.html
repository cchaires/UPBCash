{% extends 'core/layouts/client_shell.html' %}
{% load static %}

{% block title %}UPBCash - Cliente{% endblock %}

{% block content %}
<section class="card">
  <div class="card__banner">
    <img src="{% static 'core/img/evento-banner.png' %}" alt="Banner del evento" />
  </div>

  <h1 class="event-title">Noche Mexicana</h1>

  <div class="balance-row">
    <div class="balance-label">Saldo disponible:</div>
    <div class="balance-amount" id="balanceAmount">$0.00</div>

    <div class="balance-actions">
      <div class="saldo-pill">Saldo actual: <span id="saldoValue">$0.00</span></div>
      <a class="btn btn--ghost" href="{% url 'recarga' %}">Recarga saldo</a>
    </div>
  </div>

  <a class="btn btn--primary" href="{% url 'menu_alimentos' %}">Explorar menu</a>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'core/js/saldo_cliente.js' %}"></script>
<script>
  setUpbcashSaldo({{ saldo_actual|floatformat:2 }});
  const saldo = getUpbcashSaldo();
  const saldoEl = document.getElementById("saldoValue");
  const balanceAmountEl = document.getElementById("balanceAmount");
  if (saldoEl) saldoEl.textContent = formatUpbcashCurrency(saldo);
  if (balanceAmountEl) balanceAmountEl.textContent = formatUpbcashCurrency(saldo);
</script>
{% endblock %}
