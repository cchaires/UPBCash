{% load static %}
<div class="userbox">
  <div class="userbox__avatar" aria-hidden="true">
    <svg class="icon" aria-hidden="true"><use href="{% static 'core/icons/sprite.svg' %}#user"></use></svg>
  </div>
  <div class="userbox__info">
    <div class="userbox__name">{{ user_display_name|default:request.user.first_name|default:request.user.username }}</div>
    <div class="userbox__sub">{{ role_label|default:'Usuario' }}</div>
  </div>
  <button class="userbox__toggle" id="userToggle" aria-haspopup="true" aria-expanded="false" aria-label="Abrir menu de cuenta" type="button">
    <svg class="icon" aria-hidden="true"><use href="{% static 'core/icons/sprite.svg' %}#chevron-down"></use></svg>
  </button>
  <div class="userbox__menu" id="userMenu" role="menu" aria-hidden="true">
    {% if show_account_link %}
    <a href="{% url 'mi_cuenta' %}" role="menuitem">Cuenta</a>
    {% endif %}
    {% if show_client_link %}
    <a href="{% url 'cliente' %}" role="menuitem">Cliente</a>
    {% endif %}
    {% if can_view_vendor %}
    <a href="{% url 'vendedor' %}" role="menuitem">Vendedor</a>
    {% endif %}
    {% if can_view_staff %}
    <a href="{% url 'staff_panel' %}" role="menuitem">Staff</a>
    {% endif %}
    {% if can_view_admin %}
    <a href="{% url 'admin_inicio' %}" role="menuitem">Administrador</a>
    {% endif %}
    <a href="{% url 'logout' %}" role="menuitem">Cerrar sesion</a>
  </div>
</div>
