{% extends 'core/layouts/client_shell.html' %}

{% block title %}UPBCash - Mapa{% endblock %}

{% block content %}
<section class="card">
  <h1 class="page-title">Mapa UPBC</h1>
  <p class="page-subtitle">Ubicacion de tiendas visibles para {{ event.name }}.</p>
  <div class="map-card mt-12">
    <img class="map-image" src="{{ map_image_url }}" alt="Mapa UPBC" />
    {% for spot in map_spots %}
    <div class="map-spot map-spot--assigned js-map-spot" data-x="{{ spot.x_percent }}" data-y="{{ spot.y_percent }}">
      {{ spot.label }} Â· {{ spot.stall_name }}
    </div>
    {% endfor %}
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
  document.querySelectorAll(".js-map-spot").forEach((spot) => {
    spot.style.left = `${spot.dataset.x}%`;
    spot.style.top = `${spot.dataset.y}%`;
  });
</script>
{% endblock %}
