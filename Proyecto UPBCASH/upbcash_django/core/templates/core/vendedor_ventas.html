{% extends 'core/layouts/vendor_shell.html' %}

{% block title %}UPBCash - Historial de ventas{% endblock %}

{% block content %}
<header class="main__header">
  <div class="title-block">
    <h1 class="page-title">Historial de ventas</h1>
    {% if assignment %}<p class="page-subtitle">Ultimas ventas registradas para {{ assignment.stall.name }}.</p>{% else %}<p class="page-subtitle">No hay un puesto asignado para mostrar ventas.</p>{% endif %}
  </div>
  <div class="status-pill">{% if event %}{{ event.name }}{% else %}Sin evento activo{% endif %}</div>
</header>

<section class="panel">
  <div class="menu-grid">
    {% for sale in sales_rows %}
    <article class="menu-item">
      <div class="item__name">Ticket #{{ sale.order_number }}</div>
      <div class="item__desc">{{ sale.created_at|date:"d M H:i" }} · {{ sale.quantity }} articulos · {{ sale.status }}</div>
      <div class="item__price"><span>${{ sale.total|floatformat:2 }}</span></div>
    </article>
    {% empty %}
    <article class="menu-item">
      <div class="item__name">Sin ventas registradas</div>
      <div class="item__desc">Las ordenes procesadas por QR apareceran aqui.</div>
      <div class="item__price"><span>$0.00</span></div>
    </article>
    {% endfor %}
  </div>
</section>
{% endblock %}
