{% extends 'core/layouts/client_shell.html' %}
{% load static %}

{% block title %}UPBCash - Historial de recargas{% endblock %}

{% block content %}
<header class="main__header">
  <div>
    <h1 class="page-title">Historial de recargas</h1>
    <p class="page-subtitle">Recargas de creditos realizadas.</p>
  </div>
</header>

{% include 'core/includes/flash_messages.html' %}

<section class="card">
  <div class="list">
    {% for recarga in recargas %}
    <div class="list-item">
      <div>
        <div class="list-item__title">Recarga PayPal</div>
        <div class="list-item__meta">ID: {{ recarga.code }} · {{ recarga.created_at|date:"d M" }} · {{ recarga.card_label }}</div>
        <a class="report-link" href="{% url 'reporte_recarga' recarga.code %}">
          <span class="report-icon" aria-hidden="true"><svg class="icon icon--sm"><use href="{% static 'core/icons/sprite.svg' %}#report"></use></svg></span>
          Reportar problema
        </a>
      </div>
      <div class="list-item__price">+${{ recarga.amount|floatformat:2 }}</div>
    </div>
    {% empty %}
    <div class="list-item">
      <div>
        <div class="list-item__title">Sin recargas registradas</div>
        <div class="list-item__meta">Haz tu primera recarga para verla aqui.</div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>
{% endblock %}
